<!doctype html><html lang=zh><head><title>ç®¡ç†è¿œç¨‹DOCKERä¸»æœº</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/application.fb9df7e952c9dccf496d00faec07de633aae460f909bbba4b5e0ad22f5887d73.css integrity="sha256-+5336VLJ3M9JbQD67AfeYzquRg+Qm7ukteCtIvWIfXM="><link rel=icon type=image/png href=/images/site/favicon_hu3d2f89ed4395f8e4a11f46415bebb510_10034_42x0_resize_box_3.png><meta property="og:title" content="ç®¡ç†è¿œç¨‹DOCKERä¸»æœº"><meta property="og:description" content="ä»‹ç»ä½¿ç”¨Dockerçš„contextå­å‘½ä»¤æ¥è¿æ¥å’Œç®¡ç†è¿œç¨‹Dockerç¯å¢ƒ"><meta property="og:type" content="article"><meta property="og:url" content="/zh/posts/container-tech/docker-context-remote/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-05-08T09:05:27+08:00"><meta property="article:modified_time" content="2022-05-08T09:05:27+08:00"><meta name=description content="ä»‹ç»ä½¿ç”¨Dockerçš„contextå­å‘½ä»¤æ¥è¿æ¥å’Œç®¡ç†è¿œç¨‹Dockerç¯å¢ƒ"><script src=https://cdn.counter.dev/script.js data-id=2905461c-37df-49f9-a4ca-0ea1ba64543a data-utcoffset=1></script></head><body class="type-posts kind-page" data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/zh/><img src=/images/site/main-logo_hu69a4da50b288ac7c5f97b1e1012a418e_8650_42x0_resize_box_3.png alt=Logo>
Mengz's Space ...</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=menu-icon-center src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme"></a>
<a class="dropdown-item nav-link" href=# data-scheme=dark><img class=menu-icon-center src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a>
<a class="dropdown-item nav-link" href=# data-scheme=system><img class=menu-icon-center src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/main-logo_hu69a4da50b288ac7c5f97b1e1012a418e_8650_42x0_resize_box_3.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/inverted-logo_hu3d2f89ed4395f8e4a11f46415bebb510_10034_42x0_resize_box_3.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/zh/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/zh/posts/ data-filter=all>Posts</a></li><div class=subtree><li><i class="fas fa-plus-circle"></i><a href=/zh/posts/k8s/>Kubernetes</a><ul><li><a href=/zh/posts/k8s/health-checks/ title=K8Så¥åº·æ£€æŸ¥æœ€ä½³å®è·µ>K8Så¥åº·æ£€æŸ¥æœ€ä½³å®è·µ</a></li><li><a href=/zh/posts/k8s/kubectl-plugins/ title=æ‰©å±•ä½ çš„KUBECTLåŠŸèƒ½>æ‰©å±•ä½ çš„KUBECTLåŠŸèƒ½</a></li><li><a href=/zh/posts/k8s/lightweight-k3s/ title=è½»é‡çº§Kubernetesé›†ç¾¤-K3S>è½»é‡çº§Kubernetesé›†ç¾¤-K3S</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/zh/posts/linux/>LINUX</a><ul><li><a href=/zh/posts/linux/bumlebee-nvidia/ title=BUMBLEBEEç¦ç”¨NVIDIAæ˜¾å¡>BUMBLEBEEç¦ç”¨NVIDIAæ˜¾å¡</a></li><li><a href=/zh/posts/linux/systemd-hostnamectl/ title=HOSTNAMECTLç®¡ç†ä¸»æœºå>HOSTNAMECTLç®¡ç†ä¸»æœºå</a></li><li><a href=/zh/posts/linux/make-undeletable/ title=LINUXä¸Šåˆ›å»ºä¸å¯åˆ é™¤æ–‡ä»¶>LINUXä¸Šåˆ›å»ºä¸å¯åˆ é™¤æ–‡ä»¶</a></li><li><a href=/zh/posts/linux/network-packets/ title=LINUXä¸Šç»Ÿè®¡ç½‘ç»œæ¥å£æ•°æ®åŒ…>LINUXä¸Šç»Ÿè®¡ç½‘ç»œæ¥å£æ•°æ®åŒ…</a></li><li><a href=/zh/posts/linux/opensuse-zypper/ title=OPENSUSEä¸Šçš„ZYPPERåŒ…ç®¡ç†å™¨>OPENSUSEä¸Šçš„ZYPPERåŒ…ç®¡ç†å™¨</a></li><li><a href=/zh/posts/linux/opensuse-cronjob/ title=OPENSUSEä¸Šçš„å®šæ—¶ä»»åŠ¡>OPENSUSEä¸Šçš„å®šæ—¶ä»»åŠ¡</a></li><li><a href=/zh/posts/linux/systemd-systemctl/ title=SYSTEMCTLç®¡ç†ç³»ç»ŸæœåŠ¡>SYSTEMCTLç®¡ç†ç³»ç»ŸæœåŠ¡</a></li><li><a href=/zh/posts/linux/systemd-timer/ title=SYSTEMDå®šæ—¶æœåŠ¡>SYSTEMDå®šæ—¶æœåŠ¡</a></li><li><a href=/zh/posts/linux/opensuse-upgrade/ title="å‡çº§OPENSUSE LEAP">å‡çº§OPENSUSE LEAP</a></li><li><a href=/zh/posts/linux/wireguard-vpn/ title=åœ¨LINUXä¸Šé…ç½®WIREGUARD>åœ¨LINUXä¸Šé…ç½®WIREGUARD</a></li><li><a href=/zh/posts/linux/ubuntu-old-kernel/ title=åœ¨UBUNTUä¸Šåˆ é™¤æ—§çš„å†…æ ¸>åœ¨UBUNTUä¸Šåˆ é™¤æ—§çš„å†…æ ¸</a></li><li><a href=/zh/posts/linux/what-hardware/ title=æŸ¥çœ‹ç¡¬ä»¶ä¿¡æ¯>æŸ¥çœ‹ç¡¬ä»¶ä¿¡æ¯</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/zh/posts/windows/>Windows</a><ul><li><a href=/zh/posts/windows/windows10-wsl2/ title=Windows10ä¸Šå®‰è£…WSL2>Windows10ä¸Šå®‰è£…WSL2</a></li><li><a href=/zh/posts/windows/windows10-virtio-image/ title=åŠ è½½virtioé©±åŠ¨çš„Windows10å®‰è£…é•œåƒ>åŠ è½½virtioé©±åŠ¨çš„Windows10å®‰è£…é•œåƒ</a></li></ul></li><li><i class="fas fa-minus-circle"></i><a class=active href=/zh/posts/container-tech/>å®¹å™¨æŠ€æœ¯</a><ul class=active><li><a href=/zh/posts/container-tech/docker-live-restore/ title="DOCKER LIVERESTOREç‰¹æ€§">DOCKER LIVERESTOREç‰¹æ€§</a></li><li><a href=/zh/posts/container-tech/docker-sbom/ title="DOCKER SBOMé•œåƒç‰©æ–™æ¸…å•">DOCKER SBOMé•œåƒç‰©æ–™æ¸…å•</a></li><li><a href=/zh/posts/container-tech/dockerfile-best/ title=DOCKERFILEæ„å»ºæœ€ä½³å®è·µ>DOCKERFILEæ„å»ºæœ€ä½³å®è·µ</a></li><li><a href=/zh/posts/container-tech/docker-intro/ title=DOCKERå…¥é—¨>DOCKERå…¥é—¨</a></li><li><a href=/zh/posts/container-tech/mariadb-docker/ title=DOCKERæ„å»ºMariaDB>DOCKERæ„å»ºMariaDB</a></li><li><a href=/zh/posts/container-tech/docker-container-app/ title=DOCKERæ„å»ºå®¹å™¨åŒ–åº”ç”¨>DOCKERæ„å»ºå®¹å™¨åŒ–åº”ç”¨</a></li><li><a href=/zh/posts/container-tech/docker-wechat/ title=DOCKERè¿è¡Œå¾®ä¿¡æ¡Œé¢å®¢æˆ·ç«¯>DOCKERè¿è¡Œå¾®ä¿¡æ¡Œé¢å®¢æˆ·ç«¯</a></li><li><a href=/zh/posts/container-tech/docker-desktop-windows/ title="WINDOWSä¸Šçš„DOCKER DESKTOP">WINDOWSä¸Šçš„DOCKER DESKTOP</a></li><li><a href=/zh/posts/container-tech/docker-compose-v2/ title="å¼€å§‹ä½¿ç”¨DOCKER COMPOSE V2">å¼€å§‹ä½¿ç”¨DOCKER COMPOSE V2</a></li><li><a href=/zh/posts/container-tech/smallest-web-container/ title=æœ€å°åŒ–é™æ€WEBå®¹å™¨å®è·µ>æœ€å°åŒ–é™æ€WEBå®¹å™¨å®è·µ</a></li><li><a href=/zh/posts/container-tech/docker-mqtt-broker/ title=æœ¬åœ°ç¯å¢ƒè¿è¡ŒMQTTå®¹å™¨>æœ¬åœ°ç¯å¢ƒè¿è¡ŒMQTTå®¹å™¨</a></li><li><a class=active href=/zh/posts/container-tech/docker-context-remote/ title=ç®¡ç†è¿œç¨‹DOCKERä¸»æœº>ç®¡ç†è¿œç¨‹DOCKERä¸»æœº</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/zh/posts/devops/>å¼€å‘è¿ç»´</a><ul><li><a href=/zh/posts/devops/github-actions/ title="GITHUB ACTIONSå·¥ä½œæµ">GITHUB ACTIONSå·¥ä½œæµ</a></li><li><a href=/zh/posts/devops/gitlab-ci-docker/ title="GITLAB CIè‡ªåŠ¨éƒ¨ç½²å®¹å™¨åº”ç”¨">GITLAB CIè‡ªåŠ¨éƒ¨ç½²å®¹å™¨åº”ç”¨</a></li><li><a href=/zh/posts/devops/k3s-terraform-ansible/ title=IaCç¤ºä¾‹-TERRAFORM&amp;ANSIBLEåˆ›å»ºK3Sé›†ç¾¤>IaCç¤ºä¾‹-TERRAFORM&amp;ANSIBLEåˆ›å»ºK3Sé›†ç¾¤</a></li><li><a href=/zh/posts/devops/tf-rover/ title=TFæ‰§è¡Œè®¡åˆ’å¯è§†åŒ–>TFæ‰§è¡Œè®¡åˆ’å¯è§†åŒ–</a></li><li><a href=/zh/posts/devops/tf-aws-lightsail/ title="TFç®¡ç†AWS LIGHTSAILå®ä¾‹">TFç®¡ç†AWS LIGHTSAILå®ä¾‹</a></li><li><a href=/zh/posts/devops/single-application-cicd/ title=ä¸€ä½“åŒ–CI/CDå¹³å°>ä¸€ä½“åŒ–CI/CDå¹³å°</a></li><li><a href=/zh/posts/devops/open-gitops/ title="è§£è¯»OPEN GITOPS 1.0">è§£è¯»OPEN GITOPS 1.0</a></li><li><a href=/zh/posts/devops/tf-cloud/ title="è¿ç§»æœ¬åœ°é¡¹ç›®åˆ°TF CLOUD">è¿ç§»æœ¬åœ°é¡¹ç›®åˆ°TF CLOUD</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/zh/posts/opentool/>å¼€æºå·¥å…·</a><ul><li><a href=/zh/posts/opentool/diun-intro/ title=DIUN-å®¹å™¨é•œåƒæ›´æ–°é€šçŸ¥>DIUN-å®¹å™¨é•œåƒæ›´æ–°é€šçŸ¥</a></li><li><a href=/zh/posts/opentool/rclone-sync/ title=RCLOUDä¸äº‘å­˜å‚¨åŒæ­¥>RCLOUDä¸äº‘å­˜å‚¨åŒæ­¥</a></li><li><a href=/zh/posts/opentool/find-files/ title=æ–‡ä»¶ç³»ç»ŸæŸ¥æ‰¾å·¥å…·>æ–‡ä»¶ç³»ç»ŸæŸ¥æ‰¾å·¥å…·</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/zh/posts/programming/>ç¼–ç¨‹</a><ul><li><a href=/zh/posts/programming/cocktail-improve/ title=æ”¹è‰¯é¸¡å°¾é…’æ’åºç®—æ³•>æ”¹è‰¯é¸¡å°¾é…’æ’åºç®—æ³•</a></li><li><a href=/zh/posts/programming/shell-debug/ title=è°ƒè¯•Shellè„šæœ¬é”™è¯¯>è°ƒè¯•Shellè„šæœ¬é”™è¯¯</a></li></ul></li><li><a href=/zh/posts/markdown-sample/ title=Markdownç¤ºä¾‹>Markdownç¤ºä¾‹</a></li><li><a href=/zh/posts/shortcodes/ title=çŸ­ä»£ç ç¤ºä¾‹>çŸ­ä»£ç ç¤ºä¾‹</a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/zh/posts/container-tech/docker-context-remote/docker-context-remote.webp)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/author/mengzyou_huc2c98b30dea57d312a21b09cfacc124e_6244_120x120_fit_q75_h2_box_2.webp alt="Author Image"><h5 class=author-name>You Mengzhe</h5><p>2022å¹´5æœˆ8æ—¥æ˜ŸæœŸæ—¥</p></div><div class=title><h1>ç®¡ç†è¿œç¨‹DOCKERä¸»æœº</h1></div><div class=taxonomy-terms><ul style=padding-left:0><li class=rounded><a href=/zh/tags/docker/ class="btn, btn-sm">docker</a></li></ul></div><div class=post-content id=post-content><p>åœ¨Docker v19.03ç‰ˆæœ¬ä¹‹å‰ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>DOCKER_HOST</code>ç¯å¢ƒå˜é‡æ¥é…ç½®å’Œè¿æ¥è¿œç¨‹Dockerä¸»æœºï¼Œè‡ªä»Docker v19.03ç‰ˆæœ¬å¼€å§‹ï¼ŒDockerçš„å‘½ä»¤è¡Œæ¥å£ï¼ˆCLIï¼‰å¢åŠ äº†ä¸€ä¸ªå­å‘½ä»¤ - <a href=https://docs.docker.com/engine/reference/commandline/context/ target=_blank rel=noopener>context</a>ï¼Œç”¨äºç®¡ç†dockerå®¢æˆ·ç«¯è¿æ¥å¤šä¸ªä¸Šä¸‹æ–‡ç¯å¢ƒã€‚<br>é€šè¿‡contextå‘½ä»¤ï¼Œå¯é€šè¿‡é…ç½®SSHåè®®çš„ä¸Šä¸‹æ–‡è¿æ¥å¹¶ç®¡ç†è¿œç¨‹å¤šä¸ªDockerä¸»æœºï¼ŒåŒæ—¶ä»ä¸€å°å®‰è£…äº†Docker CLIçš„æœºå™¨å¯¼å‡ºä¸Šä¸‹æ–‡ç¯å¢ƒï¼Œå¹¶åœ¨å¦ä¸€å°å®‰è£…äº†Docker CLIçš„æœºå™¨å¯¼å…¥ã€‚</p><h2 id=contextå­å‘½ä»¤>contextå­å‘½ä»¤</h2><p>é¦–å…ˆå¯ä»¥é€šè¿‡&ndash;helpé€‰é¡¹æŸ¥çœ‹å‘½ä»¤æ”¯æŒçš„å­å‘½ä»¤ï¼š</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>î‚° docker context --help
</span></span><span style=display:flex><span>Usage:  docker context COMMAND
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Manage contexts
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Commands:
</span></span><span style=display:flex><span>  create      Create a context
</span></span><span style=display:flex><span>  export      Export a context to a tar or kubeconfig file
</span></span><span style=display:flex><span>  import      Import a context from a tar or zip file
</span></span><span style=display:flex><span>  inspect     Display detailed information on one or more contexts
</span></span><span style=display:flex><span>  ls          List contexts
</span></span><span style=display:flex><span>  rm          Remove one or more contexts
</span></span><span style=display:flex><span>  update      Update a context
</span></span><span style=display:flex><span>  use         Set the current docker context
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Run <span style=color:#e6db74>&#39;docker context COMMAND --help&#39;</span> <span style=color:#66d9ef>for</span> more information on a command.
</span></span></code></pre></div><p>è¿™é‡Œå°†æ¼”ç¤ºå¦‚ä½•ä½¿ç”¨ä½¿ç”¨<code>DOCKER_HOST</code>ç¯å¢ƒå˜é‡çš„æ–¹å¼ï¼Œä»¥åŠ<code>context</code>å‘½ä»¤çš„æ–¹å¼æ¥è¿æ¥è¿œç¨‹Dockerä¸»æœºã€‚</p><h2 id=æå‰å‡†å¤‡>æå‰å‡†å¤‡</h2><p>é¦–å…ˆæˆ‘ä»¬éœ€è¦å‡†å¤‡ä¸¤å°Dockerä¸»æœºï¼Œå¹¶å®‰è£…Docker v19.03+ ç‰ˆæœ¬ï¼Œä¾‹å¦‚è¿™é‡Œ</p><ul><li>192.168.0.110(linux-dev) - æˆ‘çš„æœ¬åœ°å·¥ä½œä¸»æœºï¼ŒDocker version 20.10.12-ce</li><li>192.168.0.200(home-boxsrv) - è¿œç¨‹Dockerä¸»æœºï¼ŒDocker version 20.10.7</li></ul><p>ä¸ºé¿å…è¾“å…¥SSHå¯†ç ï¼Œè¯·æå‰é…ç½®ä»Dockerå®¢æˆ·ç«¯ä¸»æœºå…å¯†è®¿é—®è¿œç¨‹Dockerä¸»æœºã€‚</p><h2 id=docker_hostç¯å¢ƒæ–¹å¼>DOCKER_HOSTç¯å¢ƒæ–¹å¼</h2><p>é¦–å…ˆæˆ‘ä»¬åœ¨è¿œç¨‹Dockerä¸»æœºï¼ˆhome-boxsrvï¼‰ä¸Šè¿è¡Œä¸€ä¸ªå®¹å™¨ï¼Œä¾‹å¦‚åä¸º <code>dns_masq</code> çš„å®¹å™¨</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>ubuntu@linux-boxsrv:~$ docker container ls
</span></span><span style=display:flex><span>CONTAINER ID   IMAGE                  COMMAND                  CREATED        STATUS        PORTS                                                                                                                                                                                             NAMES
</span></span><span style=display:flex><span>0597a189d488   jpillora/dnsmasq:1.1   <span style=color:#e6db74>&#34;webproc --config /eâ€¦&#34;</span>   <span style=color:#ae81ff>2</span> months ago   Up <span style=color:#ae81ff>31</span> hours   127.0.0.1:53-&gt;53/tcp, 127.0.0.1:53-&gt;53/udp, 192.168.0.200:53-&gt;53/tcp, 192.168.0.200:53-&gt;53/udp, 192.168.31.200:53-&gt;53/tcp, 192.168.31.200:53-&gt;53/udp, 0.0.0.0:8053-&gt;8080/tcp, :::8053-&gt;8080/tcp   dns_masq
</span></span></code></pre></div><p>åœ¨æœ¬åœ°ä¸»æœºä¸Šï¼ˆlinux-devï¼‰é…ç½®ç¯å¢ƒå˜é‡</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mengzî®@linux-devğŸ’»~
</span></span><span style=display:flex><span>â¯ export DOCKER_HOST<span style=color:#f92672>=</span>ssh://ubuntu@192.168.0.200
</span></span></code></pre></div><p>ç„¶åæŸ¥çœ‹å®¹å™¨</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mengzî®@linux-devğŸ’»â˜¸~
</span></span><span style=display:flex><span>â¯ docker container ls
</span></span><span style=display:flex><span>CONTAINER ID   NAMES      IMAGE                  CREATED ago        STATUS        PORTS                                                                                                                                                                                             COMMAND
</span></span><span style=display:flex><span>0597a189d488   dns_masq   jpillora/dnsmasq:1.1   <span style=color:#ae81ff>2</span> months ago ago   Up <span style=color:#ae81ff>31</span> hours   127.0.0.1:53-&gt;53/tcp, 127.0.0.1:53-&gt;53/udp, 192.168.0.200:53-&gt;53/tcp, 192.168.0.200:53-&gt;53/udp, 192.168.31.200:53-&gt;53/tcp, 192.168.31.200:53-&gt;53/udp, 0.0.0.0:8053-&gt;8080/tcp, :::8053-&gt;8080/tcp   <span style=color:#e6db74>&#34;webproc --config /eâ€¦&#34;</span>
</span></span></code></pre></div><p>æˆ‘ä»¬å¯ä»¥çœ‹åˆ°ï¼Œåˆ—å‡ºçš„æ˜¯è¿è¡Œåœ¨è¿œç¨‹ä¸»æœºä¸Šçš„å®¹å™¨ã€‚</p><h2 id=ä½¿ç”¨contextå‘½ä»¤>ä½¿ç”¨contextå‘½ä»¤</h2><p>é¦–å…ˆæˆ‘ä»¬åœ¨æœ¬åœ°ä¸»æœºï¼ˆlinux-devï¼‰ä¸Šæ¸…é™¤ä¸Šé¢é…ç½®çš„ç¯å¢ƒå˜é‡</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mengzî®@linux-devğŸ’»~
</span></span><span style=display:flex><span>â¯ unset DOCKER_HOST
</span></span></code></pre></div><p>ä½¿ç”¨<code>context ls</code>å‘½ä»¤åˆ—å‡ºå½“å‰å®¢æˆ·ç«¯é…ç½®çš„ä¸Šä¸‹æ–‡ç¯å¢ƒ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mengzî®@linux-devğŸ’»~
</span></span><span style=display:flex><span>â¯ docker context ls
</span></span><span style=display:flex><span>NAME           DESCRIPTION                               DOCKER ENDPOINT               KUBERNETES ENDPOINT                     ORCHESTRATOR
</span></span><span style=display:flex><span>default *      Current DOCKER_HOST based configuration   unix:///var/run/docker.sock   https://k8s1.mengz.lan:6443 <span style=color:#f92672>(</span>default<span style=color:#f92672>)</span>   swarm
</span></span></code></pre></div><p>å¯ä»¥çœ‹åˆ°ï¼Œå½“å‰æœ‰ä¸€ä¸ªåä¸º <code>default</code> çš„ç¯å¢ƒï¼Œè¿æ¥çš„æ˜¯æœ¬æœºä¸ŠDockerå¼•æ“ã€‚<br>ç°åœ¨ï¼Œæˆ‘ä»¬é€šè¿‡ <code>context create</code> å‘½ä»¤æ¥æ·»åŠ è¿æ¥ï¼ˆhome-boxsrvï¼‰çš„ä¸Šä¸‹æ–‡ç¯å¢ƒ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mengzî®@linux-devğŸ’»~
</span></span><span style=display:flex><span>â¯ docker context create home-boxsrv --description <span style=color:#e6db74>&#34;Docker Engine on home-boxsrv&#34;</span> --docker <span style=color:#e6db74>&#34;host=ssh://ubuntu@192.168.0.200&#34;</span>
</span></span><span style=display:flex><span>home-boxsrv
</span></span><span style=display:flex><span>Successfully created context <span style=color:#e6db74>&#34;home-boxsrv&#34;</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>â¯ docker context ls
</span></span><span style=display:flex><span>NAME           DESCRIPTION                               DOCKER ENDPOINT               KUBERNETES ENDPOINT                     ORCHESTRATOR
</span></span><span style=display:flex><span>default *      Current DOCKER_HOST based configuration   unix:///var/run/docker.sock   https://k8s1.mengz.lan:6443 <span style=color:#f92672>(</span>default<span style=color:#f92672>)</span>   swarm
</span></span><span style=display:flex><span>home-boxsrv    Docker Engine on home-boxsrv              ssh://ubuntu@192.168.0.200
</span></span></code></pre></div><p>ä»¥æˆåŠŸæ·»åŠ äº†åä¸º <code>home-boxsrv</code> çš„ç¯å¢ƒï¼Œä½†æ˜¯å½“å‰æ¿€æ´»çš„è¿˜æ˜¯ <code>default</code> ç¯å¢ƒï¼Œæˆ‘ä»¬éœ€è¦é€šè¿‡ <code>context use</code> å‘½ä»¤æ¥è®¾ç½®å½“å‰ç¯å¢ƒ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mengzî®@linux-devğŸ’»~
</span></span><span style=display:flex><span>â¯ docker context use home-boxsrv
</span></span><span style=display:flex><span>home-boxsrv
</span></span><span style=display:flex><span>Current context is now <span style=color:#e6db74>&#34;home-boxsrv&#34;</span>
</span></span></code></pre></div><p>ç°åœ¨æˆ‘ä»¬ä½¿ç”¨ <code>container ls</code> çœ‹ä¸€ä¸‹</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>mengzî®@linux-devğŸ’»â˜¸~
</span></span><span style=display:flex><span>â¯ docker container ls
</span></span><span style=display:flex><span>CONTAINER ID   NAMES      IMAGE                  CREATED ago        STATUS        PORTS                                                                                                                                                                                             COMMAND
</span></span><span style=display:flex><span>0597a189d488   dns_masq   jpillora/dnsmasq:1.1   <span style=color:#ae81ff>2</span> months ago ago   Up <span style=color:#ae81ff>31</span> hours   127.0.0.1:53-&gt;53/tcp, 127.0.0.1:53-&gt;53/udp, 192.168.0.200:53-&gt;53/tcp, 192.168.0.200:53-&gt;53/udp, 192.168.31.200:53-&gt;53/tcp, 192.168.31.200:53-&gt;53/udp, 0.0.0.0:8053-&gt;8080/tcp, :::8053-&gt;8080/tcp   <span style=color:#e6db74>&#34;webproc --config /eâ€¦&#34;</span>
</span></span></code></pre></div><p>åˆ—å‡ºçš„æ˜¯è¿œç¨‹ä¸»æœºï¼ˆhome-boxsrvï¼‰ä¸Šçš„å®¹å™¨ï¼Œå¦‚æœä½¿ç”¨ <code>docker info</code> å‘½ä»¤æŸ¥çœ‹ï¼Œserverå°†æ˜¯è¿œç¨‹ä¸»æœºçš„ä¿¡æ¯ã€‚</p><p>é™¤äº†SSHåè®®çš„ç«¯ç‚¹æ–¹å¼ï¼Œå¦‚æœè¿œç¨‹ä¸»æœºé€šè¿‡tcpæš´éœ²çš„dockerç«¯ç‚¹ï¼Œé‚£æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨tcpçš„ç«¯ç‚¹æ–¹å¼ï¼Œä¾‹å¦‚ä¸‹é¢çš„åä¸º <code>home-cappsrv</code> çš„ç¯å¢ƒ</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell><span style=display:flex><span>â¯ docker context ls
</span></span><span style=display:flex><span>NAME            DESCRIPTION                               DOCKER ENDPOINT               KUBERNETES ENDPOINT                     ORCHESTRATOR
</span></span><span style=display:flex><span>default         Current DOCKER_HOST based configuration   unix:///var/run/docker.sock   https://k8s1.mengz.lan:6443 <span style=color:#f92672>(</span>default<span style=color:#f92672>)</span>   swarm
</span></span><span style=display:flex><span>home-boxsrv *   Docker Engine on home-boxsrv              ssh://ubuntu@192.168.0.200                                            
</span></span><span style=display:flex><span>home-cappsrv    The docker engine on home-cappsrv         tcp://192.168.0.123:2375
</span></span></code></pre></div><h2 id=æ€»ç»“>æ€»ç»“</h2><p>é€šè¿‡ <code>context</code> å‘½ä»¤ï¼Œæˆ‘ä»¬å¯ä»¥æ–¹ä¾¿åœ¨ä¸€å°Dockerå®¢æˆ·ç«¯ä¸»æœºä¸Šè¿æ¥å¹¶åˆ‡æ¢ç®¡ç†å¤šå°Dockerä¸»æœºç¯å¢ƒï¼Œå¤§å¤§æé«˜äº†è¿ç»´å¤šä¸»æœºç¯å¢ƒçš„æ•ˆç‡ï¼ŒåŒæ—¶å¯ä»¥æ–¹ä¾¿å°†ç®¡ç†çš„Dockerä¸Šä¸‹æ–‡ç¯å¢ƒå¯¼å‡ºå¹¶å¯¼å…¥åˆ°å…¶ä»–Dockerå®¢æˆ·ç«¯ä½¿ç”¨ï¼Œè·Ÿå¤šçš„å‘½ä»¤ä½¿ç”¨æ–¹æ³•å¯å‚è€ƒ <a href=https://docs.docker.com/engine/reference/commandline/context/ target=_blank rel=noopener>å®˜æ–¹æ–‡æ¡£</a>ã€‚</p></div><div class="row pl-3 pr-3"><div class="col-md-6 share-buttons"><strong>Share on:</strong>
<a class="btn btn-sm facebook-btn" href="https://www.facebook.com/sharer.php?u=%2fzh%2fposts%2fcontainer-tech%2fdocker-context-remote%2f" target=_blank><i class="fab fa-facebook"></i></a>
<a class="btn btn-sm twitter-btn" href="https://twitter.com/share?url=%2fzh%2fposts%2fcontainer-tech%2fdocker-context-remote%2f&text=%e7%ae%a1%e7%90%86%e8%bf%9c%e7%a8%8bDOCKER%e4%b8%bb%e6%9c%ba&via=Mengz%27s%20Space%20..." target=_blank><i class="fab fa-twitter"></i></a>
<a class="btn btn-sm linkedin-btn" href="https://www.linkedin.com/shareArticle?url=%2fzh%2fposts%2fcontainer-tech%2fdocker-context-remote%2f&title=%e7%ae%a1%e7%90%86%e8%bf%9c%e7%a8%8bDOCKER%e4%b8%bb%e6%9c%ba" target=_blank><i class="fab fa-linkedin"></i></a></div></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/zh/posts/container-tech/docker-mqtt-broker/ title=æœ¬åœ°ç¯å¢ƒè¿è¡ŒMQTTå®¹å™¨ class="btn btn-outline-info"><div><i class="fas fa-chevron-circle-left"></i> Prev</div><div class=next-prev-text>æœ¬åœ°ç¯å¢ƒè¿è¡ŒMQTTå®¹å™¨</div></a></div><div class="col-md-6 next-article"><a href=/zh/posts/devops/github-actions/ title="GITHUB ACTIONSå·¥ä½œæµ" class="btn btn-outline-info"><div>Next <i class="fas fa-chevron-circle-right"></i></div><div class=next-prev-text>GITHUB ACTIONSå·¥ä½œæµ</div></a></div></div><hr></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><a href=#contextå­å‘½ä»¤>contextå­å‘½ä»¤</a></li><li><a href=#æå‰å‡†å¤‡>æå‰å‡†å¤‡</a></li><li><a href=#docker_hostç¯å¢ƒæ–¹å¼>DOCKER_HOSTç¯å¢ƒæ–¹å¼</a></li><li><a href=#ä½¿ç”¨contextå‘½ä»¤>ä½¿ç”¨contextå‘½ä»¤</a></li><li><a href=#æ€»ç»“>æ€»ç»“</a></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=/zh/#about>å…³äº</a></li><li class=nav-item><a class=smooth-scroll href=/zh/#skills>æŠ€èƒ½</a></li><li class=nav-item><a class=smooth-scroll href=/zh/#experiences>å·¥ä½œç»å†</a></li><li class=nav-item><a class=smooth-scroll href=/zh/#education>æ•™è‚²</a></li><li class=nav-item><a class=smooth-scroll href=/zh/#recent-posts>è¿‘æœŸæ–‡ç« </a></li><li class=nav-item><a class=smooth-scroll href=/zh/#accomplishments>æŠ€èƒ½å­¦ä¹ </a></li><li class=nav-item><a class=smooth-scroll href=https://live.mengz.dev/>LiveTerm</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:mengz.you@outlook.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>mengz.you@outlook.com</span></a></li><li><a href=https://github.com/mengzyou target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>mengzyou</span></a></li><li><a href=https://www.linkedin.com/in/mengzyou target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>You Mengzhe</span></a></li></ul></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">Â© 2023 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.3f98eac98ee0e5efd906fd54a896210d7d275efa5f73c9f8712612a554846688.js integrity="sha256-P5jqyY7g5e/ZBv1UqJYhDX0nXvpfc8n4cSYSpVSEZog=" defer></script>
<script src=https://storage.ko-fi.com/cdn/scripts/overlay-widget.js></script>
<script>kofiWidgetOverlay.draw("mengz",{type:"floating-chat","floating-chat.donateButton.text":"Buy me a book","floating-chat.donateButton.text-color":"#f9fafc","floating-chat.donateButton.background-color":"#248aaa"})</script></body></html>