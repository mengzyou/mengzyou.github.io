<!doctype html><html lang=zh><head><title>开始使用DOCKER COMPOSE V2</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/application.fb9df7e952c9dccf496d00faec07de633aae460f909bbba4b5e0ad22f5887d73.css integrity="sha256-+5336VLJ3M9JbQD67AfeYzquRg+Qm7ukteCtIvWIfXM="><link rel=icon type=image/png href=/images/site/favicon_hu3d2f89ed4395f8e4a11f46415bebb510_10034_42x0_resize_box_3.png><meta property="og:title" content="开始使用DOCKER COMPOSE V2"><meta property="og:description" content="Docker Compose V2 入门，以及与V1的区别"><meta property="og:type" content="article"><meta property="og:url" content="/zh/posts/container-tech/docker-compose-v2/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2022-06-02T18:53:16+08:00"><meta property="article:modified_time" content="2022-06-02T18:53:16+08:00"><meta name=description content="Docker Compose V2 入门，以及与V1的区别"><script src=https://cdn.counter.dev/script.js data-id=2905461c-37df-49f9-a4ca-0ea1ba64543a data-utcoffset=1></script></head><body class="type-posts kind-page" data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/zh/><img src=/images/site/main-logo_hu69a4da50b288ac7c5f97b1e1012a418e_8650_42x0_resize_box_3.png alt=Logo>
Mengz's Space ...</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=menu-icon-center src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme"></a>
<a class="dropdown-item nav-link" href=# data-scheme=dark><img class=menu-icon-center src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a>
<a class="dropdown-item nav-link" href=# data-scheme=system><img class=menu-icon-center src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/main-logo_hu69a4da50b288ac7c5f97b1e1012a418e_8650_42x0_resize_box_3.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/inverted-logo_hu3d2f89ed4395f8e4a11f46415bebb510_10034_42x0_resize_box_3.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/zh/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/zh/posts/ data-filter=all>Posts</a></li><div class=subtree><li><i class="fas fa-plus-circle"></i><a href=/zh/posts/k8s/>Kubernetes</a><ul><li><a href=/zh/posts/k8s/health-checks/ title=K8S健康检查最佳实践>K8S健康检查最佳实践</a></li><li><a href=/zh/posts/k8s/kubectl-plugins/ title=扩展你的KUBECTL功能>扩展你的KUBECTL功能</a></li><li><a href=/zh/posts/k8s/lightweight-k3s/ title=轻量级Kubernetes集群-K3S>轻量级Kubernetes集群-K3S</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/zh/posts/linux/>LINUX</a><ul><li><a href=/zh/posts/linux/bumlebee-nvidia/ title=BUMBLEBEE禁用NVIDIA显卡>BUMBLEBEE禁用NVIDIA显卡</a></li><li><a href=/zh/posts/linux/systemd-hostnamectl/ title=HOSTNAMECTL管理主机名>HOSTNAMECTL管理主机名</a></li><li><a href=/zh/posts/linux/make-undeletable/ title=LINUX上创建不可删除文件>LINUX上创建不可删除文件</a></li><li><a href=/zh/posts/linux/network-packets/ title=LINUX上统计网络接口数据包>LINUX上统计网络接口数据包</a></li><li><a href=/zh/posts/linux/opensuse-zypper/ title=OPENSUSE上的ZYPPER包管理器>OPENSUSE上的ZYPPER包管理器</a></li><li><a href=/zh/posts/linux/opensuse-cronjob/ title=OPENSUSE上的定时任务>OPENSUSE上的定时任务</a></li><li><a href=/zh/posts/linux/systemd-systemctl/ title=SYSTEMCTL管理系统服务>SYSTEMCTL管理系统服务</a></li><li><a href=/zh/posts/linux/systemd-timer/ title=SYSTEMD定时服务>SYSTEMD定时服务</a></li><li><a href=/zh/posts/linux/opensuse-upgrade/ title="升级OPENSUSE LEAP">升级OPENSUSE LEAP</a></li><li><a href=/zh/posts/linux/wireguard-vpn/ title=在LINUX上配置WIREGUARD>在LINUX上配置WIREGUARD</a></li><li><a href=/zh/posts/linux/ubuntu-old-kernel/ title=在UBUNTU上删除旧的内核>在UBUNTU上删除旧的内核</a></li><li><a href=/zh/posts/linux/what-hardware/ title=查看硬件信息>查看硬件信息</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/zh/posts/windows/>Windows</a><ul><li><a href=/zh/posts/windows/windows10-wsl2/ title=Windows10上安装WSL2>Windows10上安装WSL2</a></li><li><a href=/zh/posts/windows/windows10-virtio-image/ title=加载virtio驱动的Windows10安装镜像>加载virtio驱动的Windows10安装镜像</a></li></ul></li><li><i class="fas fa-minus-circle"></i><a class=active href=/zh/posts/container-tech/>容器技术</a><ul class=active><li><a href=/zh/posts/container-tech/docker-live-restore/ title="DOCKER LIVERESTORE特性">DOCKER LIVERESTORE特性</a></li><li><a href=/zh/posts/container-tech/docker-sbom/ title="DOCKER SBOM镜像物料清单">DOCKER SBOM镜像物料清单</a></li><li><a href=/zh/posts/container-tech/dockerfile-best/ title=DOCKERFILE构建最佳实践>DOCKERFILE构建最佳实践</a></li><li><a href=/zh/posts/container-tech/docker-intro/ title=DOCKER入门>DOCKER入门</a></li><li><a href=/zh/posts/container-tech/mariadb-docker/ title=DOCKER构建MariaDB>DOCKER构建MariaDB</a></li><li><a href=/zh/posts/container-tech/docker-container-app/ title=DOCKER构建容器化应用>DOCKER构建容器化应用</a></li><li><a href=/zh/posts/container-tech/docker-wechat/ title=DOCKER运行微信桌面客户端>DOCKER运行微信桌面客户端</a></li><li><a href=/zh/posts/container-tech/docker-desktop-windows/ title="WINDOWS上的DOCKER DESKTOP">WINDOWS上的DOCKER DESKTOP</a></li><li><a class=active href=/zh/posts/container-tech/docker-compose-v2/ title="开始使用DOCKER COMPOSE V2">开始使用DOCKER COMPOSE V2</a></li><li><a href=/zh/posts/container-tech/smallest-web-container/ title=最小化静态WEB容器实践>最小化静态WEB容器实践</a></li><li><a href=/zh/posts/container-tech/docker-mqtt-broker/ title=本地环境运行MQTT容器>本地环境运行MQTT容器</a></li><li><a href=/zh/posts/container-tech/docker-context-remote/ title=管理远程DOCKER主机>管理远程DOCKER主机</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/zh/posts/devops/>开发运维</a><ul><li><a href=/zh/posts/devops/github-actions/ title="GITHUB ACTIONS工作流">GITHUB ACTIONS工作流</a></li><li><a href=/zh/posts/devops/gitlab-ci-docker/ title="GITLAB CI自动部署容器应用">GITLAB CI自动部署容器应用</a></li><li><a href=/zh/posts/devops/k3s-terraform-ansible/ title=IaC示例-TERRAFORM&amp;ANSIBLE创建K3S集群>IaC示例-TERRAFORM&amp;ANSIBLE创建K3S集群</a></li><li><a href=/zh/posts/devops/tf-rover/ title=TF执行计划可视化>TF执行计划可视化</a></li><li><a href=/zh/posts/devops/tf-aws-lightsail/ title="TF管理AWS LIGHTSAIL实例">TF管理AWS LIGHTSAIL实例</a></li><li><a href=/zh/posts/devops/single-application-cicd/ title=一体化CI/CD平台>一体化CI/CD平台</a></li><li><a href=/zh/posts/devops/open-gitops/ title="解读OPEN GITOPS 1.0">解读OPEN GITOPS 1.0</a></li><li><a href=/zh/posts/devops/tf-cloud/ title="迁移本地项目到TF CLOUD">迁移本地项目到TF CLOUD</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/zh/posts/opentool/>开源工具</a><ul><li><a href=/zh/posts/opentool/diun-intro/ title=DIUN-容器镜像更新通知>DIUN-容器镜像更新通知</a></li><li><a href=/zh/posts/opentool/rclone-sync/ title=RCLOUD与云存储同步>RCLOUD与云存储同步</a></li><li><a href=/zh/posts/opentool/find-files/ title=文件系统查找工具>文件系统查找工具</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/zh/posts/programming/>编程</a><ul><li><a href=/zh/posts/programming/cocktail-improve/ title=改良鸡尾酒排序算法>改良鸡尾酒排序算法</a></li><li><a href=/zh/posts/programming/shell-debug/ title=调试Shell脚本错误>调试Shell脚本错误</a></li></ul></li><li><a href=/zh/posts/markdown-sample/ title=Markdown示例>Markdown示例</a></li><li><a href=/zh/posts/shortcodes/ title=短代码示例>短代码示例</a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/zh/posts/container-tech/docker-compose-v2/docker-compose-v2.jpg)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/author/mengz_hu7eb9b9c6ecaf6b9d36921f96f3e8114d_65269_120x120_fit_box_3.png alt="Author Image"><h5 class=author-name>You Mengzhe</h5><p>2022年6月2日星期四</p></div><div class=title><h1>开始使用DOCKER COMPOSE V2</h1></div><div class=taxonomy-terms><ul style=padding-left:0><li class=rounded><a href=/zh/tags/docker/ class="btn, btn-sm">docker</a></li><li class=rounded><a href=/zh/tags/compose/ class="btn, btn-sm">compose</a></li></ul></div><div class=post-content id=post-content><p><a href=https://www.docker.com/blog/volume-management-compose-v2-skipping-updates-and-more-in-docker-desktop-3-4/ target=_blank rel=noopener>Compose V2</a> 项目启动于2021年6月，直到2022年4月26号，发布了GA版本。在发布GA版本后，社区也宣布对于<a href=https://github.com/docker/compose/tree/master target=_blank rel=noopener>Compose V1</a>将不会再进行功能更新，将在6个月后结束生命周期（EOL），期间会进行关键的安全和错误修复。</p><h2 id=v1与v2的兼容对比>V1与V2的兼容对比</h2><p>确保 V1 和 V2 之间的兼容性对于日常工作流程至关重要，下面是V2中两个关键的更改</p><table><thead><tr><th>更改</th><th>潜在影响</th><th>迁移</th></tr></thead><tbody><tr><td>V2原生支持BuildKit，并且默认开启</td><td>开发者在V2中将默认使用BuildKit进行镜像构建</td><td>可通过设置环境变量不使用 <code>DOCKER_BUILDKIT=0</code></td></tr><tr><td>容器名字中使用 <strong>-</strong> 替代了 <strong>_</strong> 作为分隔符</td><td>如果在脚本中使用了容器名字，这可能会导致错误</td><td>可以通过 &ldquo;&ndash;compatibility&rdquo; 标记来关闭此更改</td></tr></tbody></table><p>关于更多的兼容性更改，请查看<a href=https://docs.docker.com/compose/cli-command-compatibility/ target=_blank rel=noopener>兼容性文档</a></p><h2 id=如何安装compose-v2>如何安装Compose V2</h2><p>Windows，MacOS和Linux上使用Docker Desktop，就自带了Compose V2，可通过命令 <code>docker compose</code> 执行。也可以通过配置“Use Docker Compose V2“来设置 <code>docker-compose</code> 别名到 <code>docker compose</code>。</p><p><img src=https://images.mengz.dev/posts/docker-compose-v2.png alt=desktop-compose-v2></p><p>如果没有使用<a href=https://docs.docker.com/desktop/linux/install/ target=_blank rel=noopener>Docker Desktop for Linux</a>，而是直接使用的Docker Engine，则需要额外安装 <code>docker-compose-plugin</code> 或者独立的二进制包。</p><p>例如对于Ubuntu,可以通过Docker官方的APT源直接安装</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>❯ sudo apt update
</span></span><span style=display:flex><span>❯ sudo apt install docker-compose-plugin
</span></span></code></pre></div><p>其他Linux, 例如在我的 openSUSE 上，通过手动从<a href=https://github.com/docker/compose/releases target=_blank rel=noopener>Github</a>下载二进制文件进行安装（注意选择版本和平台架构）</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>❯ DOCKER_CONFIG<span style=color:#f92672>=</span><span style=color:#e6db74>${</span>DOCKER_CONFIG<span style=color:#66d9ef>:-</span>$HOME/.docker<span style=color:#e6db74>}</span>
</span></span><span style=display:flex><span>❯ mkdir -p $DOCKER_CONFIG/cli-plugins
</span></span><span style=display:flex><span>❯ wget https://github.com/docker/compose/releases/download/v2.6.0/docker-compose-linux-x86_64
</span></span><span style=display:flex><span>❯ mv docker-compose-linux-x86_64 $DOCKER_CONFIG/cli-plugins/docker-compose
</span></span><span style=display:flex><span>❯ chmod +x $DOCKER_CONFIG/cli-plugins/docker-compose
</span></span></code></pre></div><p>执行一下命令测试</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>❯ docker compose version
</span></span><span style=display:flex><span>Docker Compose version 2.6.0
</span></span></code></pre></div><p>更多安装方式，请查看<a href=https://docs.docker.com/compose/install/ target=_blank rel=noopener>官方文档</a>。</p><h2 id=compose-v2的优势>Compose V2的优势</h2><h3 id=在docker-cli中快速交付新功能>在Docker CLI中快速交付新功能</h3><ul><li><a href=https://docs.docker.com/compose/gpu-support/ target=_blank rel=noopener>支持GPU主机</a> - 如果Docker主机有GPU设备（显卡)并且Docker引擎进行了相关配置, 则Compose服务可以定义GPU设备的预留。</li><li><a href=https://docs.docker.com/compose/profiles/ target=_blank rel=noopener>支持配置服务启用（Profiles）</a> - 通过选择性服务器启用来为多种用途和环境启动Compose应用模型，如下Compose文件</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-yaml data-lang=yaml><span style=display:flex><span><span style=color:#f92672>version</span>: <span style=color:#e6db74>&#34;3.9&#34;</span>
</span></span><span style=display:flex><span><span style=color:#f92672>services</span>:
</span></span><span style=display:flex><span>  <span style=color:#f92672>frontend</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>frontend</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>profiles</span>: [<span style=color:#e6db74>&#34;frontend&#34;</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>phpmyadmin</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>phpmyadmin</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>depends_on</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>db</span>
</span></span><span style=display:flex><span>    <span style=color:#f92672>profiles</span>:
</span></span><span style=display:flex><span>      - <span style=color:#ae81ff>debug</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>backend</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>backend</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  <span style=color:#f92672>db</span>:
</span></span><span style=display:flex><span>    <span style=color:#f92672>image</span>: <span style=color:#ae81ff>mysql</span>
</span></span></code></pre></div><p>默认执行 <code>docker compose up</code> 将只会启动 <strong>backend</strong> 和 <strong>db</strong> 服务，要启动相应配置的服务，需要使用 <code>--profile</code> 标记或者设置环境变量 <strong>COMPOSE_PROFILES</strong>，例如</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>❯ docker compose --profile debug --profile frontend up
</span></span><span style=display:flex><span>❯ COMPOSE_PROFILES<span style=color:#f92672>=</span>frontend,debug docker compose up
</span></span></code></pre></div><ul><li>新增了 <code>cp</code> 命令 - 在服务容器和本地文件系统直接拷贝文件和目录</li><li>新增了 <code>ls</code> 命令 - 列出当前环境中的Compose项目（应用栈）</li></ul><h3 id=开发到生产的无缝转换>开发到生产的无缝转换</h3><p>通过<a href=https://github.com/docker/compose-cli target=_blank rel=noopener>云集成</a>项目，可以容易的使用Compose V2将多容器应用部署到<a href=https://aws.amazon.com/ecs/ target=_blank rel=noopener>AWS ECS</a>或者<a href=https://azure.microsoft.com/en-us/services/container-instances/ target=_blank rel=noopener>Azure ACI</a>环境。</p><p>具体示例可参考 <a href=https://www.docker.com/blog/deploying-wordpress-to-the-cloud/ target=_blank rel=noopener>Deploying WordPress to the Cloud</a>。</p><h3 id=在golang中创建一个同构的docker生态系统>在Golang中创建一个同构的Docker生态系统</h3><p>在Compose V2之前，V1是使用Python语言编写的，不在Docker的语言生态系统里。而V2使用Golang语言编写，可以提供来自Moby、CLI或任何基于Golang的项目代码，减少了很多通过Python重写新功能或缺陷的开发，容易从其他Docker工具（例如BuildKit）增加新功能到Compose中。</p><p>通过Golang，现在可以发布一个静态的二进制执行文件，相比Python，大大简化了更新和依赖管理。</p><h3 id=在没有compose文件的情况下执行命令>在没有Compose文件的情况下执行命令</h3><p>Compose V2可以在以下情况下通过 <code>--project-name|-p</code> 选项来管理运行的Compose项目容器服务</p><ul><li>当前目录不包含项目Compose文件（不在Compose项目文件目录下）</li><li>不通过 <code>--file</code> 标记指定Compose文件</li><li>不通过 <code>--project-directory</code> 标记指定Compose项目目录</li></ul><p>可执行的命令： <code>ps</code>，<code>exec</code>,<code>start</code>，<code>stop</code>，<code>restart</code>，<code>down</code></p><p>可以先通过 <code>docker compose ls</code> 列出当前环境的Compose项目</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>❯ docker compose ls
</span></span><span style=display:flex><span>NAME                STATUS              CONFIG FILES
</span></span><span style=display:flex><span>dbweb               running<span style=color:#f92672>(</span>1<span style=color:#f92672>)</span>          docker-compose.yml
</span></span><span style=display:flex><span>monitor             running<span style=color:#f92672>(</span>1<span style=color:#f92672>)</span>          /home/mengz/dockerapp/monitor/docker-compose.yml
</span></span><span style=display:flex><span>traefik             running<span style=color:#f92672>(</span>1<span style=color:#f92672>)</span>          /home/mengz/dockerapp/traefik/docker-compose.yml
</span></span><span style=display:flex><span>truenas             running<span style=color:#f92672>(</span>1<span style=color:#f92672>)</span>          /home/mengz/dockerapp/truenas/docker-compose.yml
</span></span></code></pre></div><p>然后通过 <code>-p &lt;项目名> 命令</code> 来管理项目服务</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>❯ docker compose -p dbweb ps
</span></span><span style=display:flex><span>NAME                COMMAND             SERVICE             STATUS              PORTS
</span></span><span style=display:flex><span>dbweb_pgadmin       <span style=color:#e6db74>&#34;/entrypoint.sh&#34;</span>    pgadmin             running             443/tcp
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>❯ docker compose -p dbweb exec pgadmin sh
</span></span><span style=display:flex><span>/pgadmin4 $ exit
</span></span></code></pre></div><h2 id=总结>总结</h2><p>这里简单介绍了Docker Compose V2的一些特性和功能，随着V1的逐渐淘汰，我们要拥抱V2，并且尝试其提供的新功能。<br>关于详细的Docker Docker，请参考<a href=https://docs.docker.com/compose/gettingstarted/ target=_blank rel=noopener>官方文档</a>。</p><blockquote><p>参考：</p><ul><li><a href=https://www.docker.com/blog/announcing-compose-v2-general-availability/ target=_blank rel=noopener>Announcing Compose V2 General Availability</a></li><li><a href=https://docs.docker.com/compose/install/ target=_blank rel=noopener>Install Docker Compose</a></li></ul></blockquote></div><div class="row pl-3 pr-3"><div class="col-md-6 share-buttons"><strong>Share on:</strong>
<a class="btn btn-sm facebook-btn" href="https://www.facebook.com/sharer.php?u=%2fzh%2fposts%2fcontainer-tech%2fdocker-compose-v2%2f" target=_blank><i class="fab fa-facebook"></i></a>
<a class="btn btn-sm twitter-btn" href="https://twitter.com/share?url=%2fzh%2fposts%2fcontainer-tech%2fdocker-compose-v2%2f&text=%e5%bc%80%e5%a7%8b%e4%bd%bf%e7%94%a8DOCKER%20COMPOSE%20V2&via=Mengz%27s%20Space%20..." target=_blank><i class="fab fa-twitter"></i></a>
<a class="btn btn-sm linkedin-btn" href="https://www.linkedin.com/shareArticle?url=%2fzh%2fposts%2fcontainer-tech%2fdocker-compose-v2%2f&title=%e5%bc%80%e5%a7%8b%e4%bd%bf%e7%94%a8DOCKER%20COMPOSE%20V2" target=_blank><i class="fab fa-linkedin"></i></a></div></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/zh/posts/container-tech/docker-desktop-windows/ title="WINDOWS上的DOCKER DESKTOP" class="btn btn-outline-info"><div><i class="fas fa-chevron-circle-left"></i> Prev</div><div class=next-prev-text>WINDOWS上的DOCKER DESKTOP</div></a></div><div class="col-md-6 next-article"><a href=/zh/posts/container-tech/smallest-web-container/ title=最小化静态WEB容器实践 class="btn btn-outline-info"><div>Next <i class="fas fa-chevron-circle-right"></i></div><div class=next-prev-text>最小化静态WEB容器实践</div></a></div></div><hr></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><a href=#v1与v2的兼容对比>V1与V2的兼容对比</a></li><li><a href=#如何安装compose-v2>如何安装Compose V2</a></li><li><a href=#compose-v2的优势>Compose V2的优势</a><ul><li><a href=#在docker-cli中快速交付新功能>在Docker CLI中快速交付新功能</a></li><li><a href=#开发到生产的无缝转换>开发到生产的无缝转换</a></li><li><a href=#在golang中创建一个同构的docker生态系统>在Golang中创建一个同构的Docker生态系统</a></li><li><a href=#在没有compose文件的情况下执行命令>在没有Compose文件的情况下执行命令</a></li></ul></li><li><a href=#总结>总结</a></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=/zh/#about>关于</a></li><li class=nav-item><a class=smooth-scroll href=/zh/#skills>技能</a></li><li class=nav-item><a class=smooth-scroll href=/zh/#experiences>工作经历</a></li><li class=nav-item><a class=smooth-scroll href=/zh/#education>教育</a></li><li class=nav-item><a class=smooth-scroll href=/zh/#recent-posts>近期文章</a></li><li class=nav-item><a class=smooth-scroll href=/zh/#accomplishments>技能学习</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:mengz.you@outlook.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>mengz.you@outlook.com</span></a></li><li><a href=https://github.com/mengzyou target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>mengzyou</span></a></li><li><a href=https://www.linkedin.com/in/mengzyou target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>You Mengzhe</span></a></li></ul></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2023 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.d06ddacd4080231ac954a78539ea5f5a1921ebbd740618450ead7a0e8466dfda.js integrity="sha256-0G3azUCAIxrJVKeFOepfWhkh6710BhhFDq16DoRm39o=" defer></script></body></html>