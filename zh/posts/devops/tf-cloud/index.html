<!doctype html><html lang=zh><head><title>迁移本地项目到TF CLOUD</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta http-equiv=x-ua-compatible content="ie=edge"><link rel=stylesheet href=/application.fb9df7e952c9dccf496d00faec07de633aae460f909bbba4b5e0ad22f5887d73.css integrity="sha256-+5336VLJ3M9JbQD67AfeYzquRg+Qm7ukteCtIvWIfXM="><link rel=icon type=image/png href=/images/site/favicon_hu3d2f89ed4395f8e4a11f46415bebb510_10034_42x0_resize_box_3.png><meta property="og:title" content="迁移本地项目到TF CLOUD"><meta property="og:description" content="以Terraform Cloud作为执行Backed来迁移本地Terraform项目，并管理资源状态"><meta property="og:type" content="article"><meta property="og:url" content="/zh/posts/devops/tf-cloud/"><meta property="article:section" content="posts"><meta property="article:published_time" content="2021-11-25T10:49:14+08:00"><meta property="article:modified_time" content="2021-11-25T10:49:14+08:00"><meta name=description content="以Terraform Cloud作为执行Backed来迁移本地Terraform项目，并管理资源状态"><script src=https://cdn.counter.dev/script.js data-id=2905461c-37df-49f9-a4ca-0ea1ba64543a data-utcoffset=1></script></head><body class="type-posts kind-page" data-spy=scroll data-target=#TableOfContents data-offset=80><div class="container-fluid bg-dimmed wrapper"><nav class="navbar navbar-expand-xl top-navbar final-navbar shadow"><div class=container><button class="navbar-toggler navbar-light" id=sidebar-toggler type=button>
<span class=navbar-toggler-icon></span></button>
<a class=navbar-brand href=/zh/><img src=/images/site/main-logo_hu69a4da50b288ac7c5f97b1e1012a418e_8650_42x0_resize_box_3.png alt=Logo>
Mengz's Space ...</a>
<button class="navbar-toggler navbar-light" id=toc-toggler type=button>
<span class=navbar-toggler-icon></span></button><div class="collapse navbar-collapse lang-selector" id=top-nav-items><ul class="navbar-nav ml-auto"><li class="nav-item dropdown"><a class="nav-link dropdown-toggle" href=# id=themeSelector role=button data-toggle=dropdown aria-haspopup=true aria-expanded=false><img id=navbar-theme-icon-svg src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a><div id=themeMenu class="dropdown-menu dropdown-menu-icons-only" aria-labelledby=themeSelector><a class="dropdown-item nav-link" href=# data-scheme=light><img class=menu-icon-center src=/icons/sun-svgrepo-com.svg width=20 alt="Light Theme"></a>
<a class="dropdown-item nav-link" href=# data-scheme=dark><img class=menu-icon-center src=/icons/moon-svgrepo-com.svg width=20 alt="Dark Theme"></a>
<a class="dropdown-item nav-link" href=# data-scheme=system><img class=menu-icon-center src=/icons/computer-svgrepo-com.svg width=20 alt="System Theme"></a></div></li></ul></div></div><img src=/images/site/main-logo_hu69a4da50b288ac7c5f97b1e1012a418e_8650_42x0_resize_box_3.png class=d-none id=main-logo alt=Logo>
<img src=/images/site/inverted-logo_hu3d2f89ed4395f8e4a11f46415bebb510_10034_42x0_resize_box_3.png class=d-none id=inverted-logo alt="Inverted Logo"></nav><section class=sidebar-section id=sidebar-section><div class=sidebar-holder><div class=sidebar id=sidebar><form class=mx-auto method=get action=/zh/search><input type=text name=keyword placeholder=Search data-search id=search-box></form><div class=sidebar-tree><ul class=tree id=tree><li id=list-heading><a href=/zh/posts/ data-filter=all>Posts</a></li><div class=subtree><li><i class="fas fa-plus-circle"></i><a href=/zh/posts/k8s/>Kubernetes</a><ul><li><a href=/zh/posts/k8s/health-checks/ title=K8S健康检查最佳实践>K8S健康检查最佳实践</a></li><li><a href=/zh/posts/k8s/kubectl-plugins/ title=扩展你的KUBECTL功能>扩展你的KUBECTL功能</a></li><li><a href=/zh/posts/k8s/lightweight-k3s/ title=轻量级Kubernetes集群-K3S>轻量级Kubernetes集群-K3S</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/zh/posts/linux/>LINUX</a><ul><li><a href=/zh/posts/linux/bumlebee-nvidia/ title=BUMBLEBEE禁用NVIDIA显卡>BUMBLEBEE禁用NVIDIA显卡</a></li><li><a href=/zh/posts/linux/systemd-hostnamectl/ title=HOSTNAMECTL管理主机名>HOSTNAMECTL管理主机名</a></li><li><a href=/zh/posts/linux/make-undeletable/ title=LINUX上创建不可删除文件>LINUX上创建不可删除文件</a></li><li><a href=/zh/posts/linux/network-packets/ title=LINUX上统计网络接口数据包>LINUX上统计网络接口数据包</a></li><li><a href=/zh/posts/linux/opensuse-zypper/ title=OPENSUSE上的ZYPPER包管理器>OPENSUSE上的ZYPPER包管理器</a></li><li><a href=/zh/posts/linux/opensuse-cronjob/ title=OPENSUSE上的定时任务>OPENSUSE上的定时任务</a></li><li><a href=/zh/posts/linux/systemd-systemctl/ title=SYSTEMCTL管理系统服务>SYSTEMCTL管理系统服务</a></li><li><a href=/zh/posts/linux/systemd-timer/ title=SYSTEMD定时服务>SYSTEMD定时服务</a></li><li><a href=/zh/posts/linux/opensuse-upgrade/ title="升级OPENSUSE LEAP">升级OPENSUSE LEAP</a></li><li><a href=/zh/posts/linux/wireguard-vpn/ title=在LINUX上配置WIREGUARD>在LINUX上配置WIREGUARD</a></li><li><a href=/zh/posts/linux/ubuntu-old-kernel/ title=在UBUNTU上删除旧的内核>在UBUNTU上删除旧的内核</a></li><li><a href=/zh/posts/linux/what-hardware/ title=查看硬件信息>查看硬件信息</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/zh/posts/windows/>Windows</a><ul><li><a href=/zh/posts/windows/windows10-wsl2/ title=Windows10上安装WSL2>Windows10上安装WSL2</a></li><li><a href=/zh/posts/windows/windows10-virtio-image/ title=加载virtio驱动的Windows10安装镜像>加载virtio驱动的Windows10安装镜像</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/zh/posts/container-tech/>容器技术</a><ul><li><a href=/zh/posts/container-tech/docker-live-restore/ title="DOCKER LIVERESTORE特性">DOCKER LIVERESTORE特性</a></li><li><a href=/zh/posts/container-tech/docker-sbom/ title="DOCKER SBOM镜像物料清单">DOCKER SBOM镜像物料清单</a></li><li><a href=/zh/posts/container-tech/dockerfile-best/ title=DOCKERFILE构建最佳实践>DOCKERFILE构建最佳实践</a></li><li><a href=/zh/posts/container-tech/docker-intro/ title=DOCKER入门>DOCKER入门</a></li><li><a href=/zh/posts/container-tech/mariadb-docker/ title=DOCKER构建MariaDB>DOCKER构建MariaDB</a></li><li><a href=/zh/posts/container-tech/docker-container-app/ title=DOCKER构建容器化应用>DOCKER构建容器化应用</a></li><li><a href=/zh/posts/container-tech/docker-wechat/ title=DOCKER运行微信桌面客户端>DOCKER运行微信桌面客户端</a></li><li><a href=/zh/posts/container-tech/docker-desktop-windows/ title="WINDOWS上的DOCKER DESKTOP">WINDOWS上的DOCKER DESKTOP</a></li><li><a href=/zh/posts/container-tech/docker-compose-v2/ title="开始使用DOCKER COMPOSE V2">开始使用DOCKER COMPOSE V2</a></li><li><a href=/zh/posts/container-tech/smallest-web-container/ title=最小化静态WEB容器实践>最小化静态WEB容器实践</a></li><li><a href=/zh/posts/container-tech/docker-mqtt-broker/ title=本地环境运行MQTT容器>本地环境运行MQTT容器</a></li><li><a href=/zh/posts/container-tech/docker-context-remote/ title=管理远程DOCKER主机>管理远程DOCKER主机</a></li></ul></li><li><i class="fas fa-minus-circle"></i><a class=active href=/zh/posts/devops/>开发运维</a><ul class=active><li><a href=/zh/posts/devops/github-actions/ title="GITHUB ACTIONS工作流">GITHUB ACTIONS工作流</a></li><li><a href=/zh/posts/devops/gitlab-ci-docker/ title="GITLAB CI自动部署容器应用">GITLAB CI自动部署容器应用</a></li><li><a href=/zh/posts/devops/k3s-terraform-ansible/ title=IaC示例-TERRAFORM&amp;ANSIBLE创建K3S集群>IaC示例-TERRAFORM&amp;ANSIBLE创建K3S集群</a></li><li><a href=/zh/posts/devops/tf-rover/ title=TF执行计划可视化>TF执行计划可视化</a></li><li><a href=/zh/posts/devops/tf-aws-lightsail/ title="TF管理AWS LIGHTSAIL实例">TF管理AWS LIGHTSAIL实例</a></li><li><a href=/zh/posts/devops/single-application-cicd/ title=一体化CI/CD平台>一体化CI/CD平台</a></li><li><a href=/zh/posts/devops/open-gitops/ title="解读OPEN GITOPS 1.0">解读OPEN GITOPS 1.0</a></li><li><a class=active href=/zh/posts/devops/tf-cloud/ title="迁移本地项目到TF CLOUD">迁移本地项目到TF CLOUD</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/zh/posts/opentool/>开源工具</a><ul><li><a href=/zh/posts/opentool/diun-intro/ title=DIUN-容器镜像更新通知>DIUN-容器镜像更新通知</a></li><li><a href=/zh/posts/opentool/rclone-sync/ title=RCLOUD与云存储同步>RCLOUD与云存储同步</a></li><li><a href=/zh/posts/opentool/find-files/ title=文件系统查找工具>文件系统查找工具</a></li></ul></li><li><i class="fas fa-plus-circle"></i><a href=/zh/posts/programming/>编程</a><ul><li><a href=/zh/posts/programming/cocktail-improve/ title=改良鸡尾酒排序算法>改良鸡尾酒排序算法</a></li><li><a href=/zh/posts/programming/shell-debug/ title=调试Shell脚本错误>调试Shell脚本错误</a></li></ul></li><li><a href=/zh/posts/markdown-sample/ title=Markdown示例>Markdown示例</a></li><li><a href=/zh/posts/shortcodes/ title=短代码示例>短代码示例</a></li></div></ul></div></div></div></section><section class=content-section id=content-section><div class=content><div class="container p-0 read-area"><div class="hero-area col-sm-12" id=hero-area style=background-image:url(/zh/posts/devops/tf-cloud/tf-cloud.jpg)></div><div class=page-content><div class="author-profile ml-auto align-self-lg-center"><img class=rounded-circle src=/images/author/mengzyou_hu94ee2a0121294b6b0424034f13ce004a_66548_120x120_fit_box_3.png alt="Author Image"><h5 class=author-name>You Mengzhe</h5><p>2021年11月25日星期四</p></div><div class=title><h1>迁移本地项目到TF CLOUD</h1></div><div class=taxonomy-terms><ul style=padding-left:0><li class=rounded><a href=/zh/tags/terrafrom/ class="btn, btn-sm">terrafrom</a></li><li class=rounded><a href=/zh/tags/cloud/ class="btn, btn-sm">cloud</a></li></ul></div><div class=post-content id=post-content><p><a href=../tf-aws-lightsail/>之前文章</a>我们尝试了在本地环境使用Terraform来创建和管理AWS Lightsail资源，对于管理一些云资源，我们需要在本地安装相应的CLI工具和配置访问相应云资源的凭据（例如AWS CLI， AccessKeyID等），Terraform通过调用本地的CLI工具或者云API来管理云资源的状态，其默认使用的是<code>local</code>类型的Backend，资源的状态文件(<em>.tfstate</em>)也是保存在本地文件目录中的。<br>这篇文章我们将尝试使用<code>remote</code>类型的Backend，将项目迁移到<a href=https://www.terraform.io/cloud target=_blank rel=noopener>Terraform Cloud</a>去执行，并且由Terraform Cloud来管理资源状态。</p><h2 id=什么是terraform-cloud>什么是Terraform Cloud</h2><p>Terraform Cloud 是一个管理Terraform在一致且可靠的环境中运行的SaaS应用，从而可以替换在本地机器是执行Terraform项目，其存储共享的状态和机密数据，并可以连接到版本控制系统（如 Git)，使得我们可以在团队中将基础设施作为代码进行工作。<br>Terraform是一个商业应用，团队和商业使用将会收取费用并提供了更多的高级功能。但对于个人用户，可以免费使用基本的功能。关于费用和功能详情，可以参考 (<a href=https://www.hashicorp.com/products/terraform/pricing target=_blank rel=noopener>https://www.hashicorp.com/products/terraform/pricing</a>)。</p><p>首先我们需要注册一个Terraform Cloud的账号，访问 <a href=https://app.terraform.io/public/signup/account target=_blank rel=noopener>https://app.terraform.io/public/signup/account</a> ，根据提示注册账号</p><p><img src=https://images.mengz.dev/posts/tf-cloud-signup.png alt=sigup-page></p><p>注册完成后第一次登陆Terraform Cloud，其会询问如何开始一个项目，这里我们选择 <strong>Start from scratch</strong>，也就是将从一个空模板开始</p><p><img src=https://images.mengz.dev/posts/tf-cloud-setup.png alt=start-from-scratch></p><p>接下来我们需要创建一个组织（Organization），例如这里我创建一个名为 <strong>learn-terraform</strong> 的组织，一个组织就类似要给命名空间，可以管理多个工作空间（Workspace），还可以管理其下工作空间共享的变量和环境变量。</p><p>接下来我们需要在本地环境登录Terraform Cloud，并添加相应的配置来重新初始化项目。</p><h2 id=重新初始项目>重新初始项目</h2><p>完成了Terraform Cloud的账号注册之后，我们需要在本地终端运行 <code>terraform login</code> ，会打开浏览器来登录账号得到一个Token值，将其复制填入终端完成登录</p><pre tabindex=0><code>&gt; terrafrom login
Terraform must now open a web browser to the tokens page for app.terraform.io.

If a browser does not open this automatically, open the following URL to proceed:
    https://app.terraform.io/app/settings/tokens?source=terraform-login


---------------------------------------------------------------------------------

Generate a token using your browser, and copy-paste it into this prompt.

Terraform will store the token in plain text in the following file
for use by subsequent commands:
    /home/mengz/.terraform.d/credentials.tfrc.json

Token for app.terraform.io:
  Enter a value:
</code></pre><p>接着我们修改项目的配置文件 <em>main.tf</em> ，加入 <code>backend "remote"</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-tf data-lang=tf><span style=display:flex><span><span style=color:#a6e22e>terraform</span> {
</span></span><span style=display:flex><span>  <span style=color:#a6e22e>backend</span> <span style=color:#e6db74>&#34;remtoe&#34;</span> {
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>organization</span> = <span style=color:#e6db74>&#34;learn-terraform&#34;</span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>workspaces</span> {
</span></span><span style=display:flex><span>      <span style=color:#a6e22e>name</span> = <span style=color:#e6db74>&#34;mylightsail&#34;</span>
</span></span><span style=display:flex><span>    }
</span></span><span style=display:flex><span>  }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>  ...
</span></span><span style=display:flex><span>}
</span></span></code></pre></div><p>执行 <code>terraform init</code> ，Terraform将下载remote的插件，连接至Terraform Cloud 的 <strong>learn-terraform/mylightsail</strong> 工作空间，并将本地的状态文件迁移到云端</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>$ terraform init
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Initializing the backend...Do you want to copy existing state to the new backend?  Pre-existing state was found <span style=color:#66d9ef>while</span> migrating the previous <span style=color:#e6db74>&#34;local&#34;</span> backend to the  newly configured <span style=color:#e6db74>&#34;remote&#34;</span> backend. No existing state was found in the newly  configured <span style=color:#e6db74>&#34;remote&#34;</span> backend. Do you want to copy this state to the new <span style=color:#e6db74>&#34;remote&#34;</span>  backend? Enter <span style=color:#e6db74>&#34;yes&#34;</span> to copy and <span style=color:#e6db74>&#34;no&#34;</span> to start with an empty state.
</span></span><span style=display:flex><span>  Enter a value: yes
</span></span><span style=display:flex><span>Releasing state lock. This may take a few moments...
</span></span><span style=display:flex><span>Successfully configured the backend <span style=color:#e6db74>&#34;remote&#34;</span>! Terraform will automaticallyuse this backend unless the backend configuration changes....
</span></span></code></pre></div><p>浏览器访问Terraform Cloud WebUI，进入相应的工作空间可以查看状态信息。</p><p>完成之后可以将本地的 <em>.terraform/terraform.tfstate</em> 文件删除。本地项目已将Terraform Cloud作为远程后端（remote backend），并且关联了命令行(CLI)驱动的方式，因此后续可以在本地更新资源配置文件，然后在本地运行 <code>plan & apply</code> 命令，这将会触发在远端Cloud上执行具体的状态维护工作。不过要使用Terraform Cloud来执行状态维护，我们还需要将AWS的访问凭据配置到Terraform Cloud上。</p><h2 id=配置工作空间的环境变量>配置工作空间的环境变量</h2><p>使用Terraform Cloud来维护云资源（例如AWS），我们需要配置相应的访问凭据。这里我们需要配置AWS的 <code>AWS_ACCESS_KEY_ID</code> 和 <code>AWS_SECRET_ACCESS_KEY</code> 作为项目空间的环境变量。<br>在工作空间点击 <strong>Variables</strong> 标签页，点击 <strong>+ Add Varaible</strong> 按钮</p><p><img src=https://images.mengz.dev/posts/tf-cloud-workspace-variable.png alt=ad-varaible></p><p>选择 <strong>Environment Variables</strong> ，然后添加 <code>AWS_ACCESS_KEY_ID</code> 和 <code>AWS_SECRET_ACCESS_KEY</code> 两个环境变量，并设置相应的值。</p><p>完成之后，我们就可以本地控制台运行 <code>terraform plan</code>，<code>terraform apply</code> 将操作发送到Terraform Cloud端去运行，当然我们还是可以在本地项目执行 <code>terraform show</code> 来查看当前的状态，状态将会管理在云端</p><p><img src=https://images.mengz.dev/posts/tf-cloud-state.png alt=terraform-cloud-state></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; terraform plan
</span></span><span style=display:flex><span>Running plan in the remote backend. Output will stream here. Pressing Ctrl-C
</span></span><span style=display:flex><span>will stop streaming the logs, but will not stop the plan running remotely.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Preparing the remote plan...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>To view this run in a browser, visit:
</span></span><span style=display:flex><span>https://app.terraform.io/app/mengz-infra/my-lightsail/runs/run-LzwFBbihffEKmucd
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Waiting <span style=color:#66d9ef>for</span> the plan to start...
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Terraform v1.0.11
</span></span><span style=display:flex><span>on linux_amd64
</span></span><span style=display:flex><span>Configuring remote state backend...
</span></span><span style=display:flex><span>Initializing Terraform configuration...
</span></span><span style=display:flex><span>aws_lightsail_static_ip.outline-sig-ip: Refreshing state... <span style=color:#f92672>[</span>id<span style=color:#f92672>=</span>Outline-EIP<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>aws_lightsail_instance.outline-sig: Refreshing state... <span style=color:#f92672>[</span>id<span style=color:#f92672>=</span>Outline-Sig<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>aws_lightsail_instance_public_ports.outline-sig-public-ports: Refreshing state... <span style=color:#f92672>[</span>id<span style=color:#f92672>=</span>Outline-Sig-987241840<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>aws_lightsail_static_ip_attachment.outline-sig-ip-attache: Refreshing state... <span style=color:#f92672>[</span>id<span style=color:#f92672>=</span>Outline-EIP<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>No changes. Your infrastructure matches the configuration.
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>Terraform has compared your real infrastructure against your configuration
</span></span><span style=display:flex><span>and found no differences, so no changes are needed.
</span></span></code></pre></div><p>可以看到计划是在 remote backend 运行的。</p><h2 id=本版化管理项目>本版化管理项目</h2><p>最后，我们可以将项目的配置文件提交到版本控制系统（例如 Gitlab），并配置工作空间的版本控制</p><p><img src=https://images.mengz.dev/posts/tf-cloud-version-control.png alt=terraform-cloud-version-control></p><p>在Terraform Cloud工作空间的设置里，按照提示配置关联相应的版本管理代码仓库。完成之后，我们在本地提交更新的代码后，会自动触发Terraform Cloud去执行维护新的状态。不过这将不会允许在本地终端执行 <code>terraform apply</code></p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-bash data-lang=bash><span style=display:flex><span>&gt; terraform apply
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>│ Error: Apply not allowed <span style=color:#66d9ef>for</span> workspaces with a VCS connection
</span></span><span style=display:flex><span>│ A workspace that is connected to a VCS requires the VCS-driven workflow to ensure that the VCS remains the single source of truth.
</span></span></code></pre></div><p>只能通过更新代码，然后提交到远程代码仓库的方式来触发状态维护。这将更加便于与团队共享基础设施代码，以及共同维护基础设施状态，同时也更加趋于GitOps的工作方式。</p><h2 id=总结>总结</h2><p>本文基于<a href=../tf-aws-lightsail/>上一篇文章</a> - 尝试使用Terraform在本地环境管理AWS Lightsail资源，延申了将状态管理的操作迁移到以Terraform Cloud作为远程后端的尝试，除了Terraform Cloud之后，还有其他类型的Backend，可以参考 (<a href=https://www.terraform.io/docs/language/settings/backends/index.html target=_blank rel=noopener>https://www.terraform.io/docs/language/settings/backends/index.html</a>)。<br>自此，我们初探了使用Terraform作为IaC工具来管理AWS Lightsail资源，当作Terraform学习的一个入门。Hashicrop官方提供了更多的<a href=https://learn.hashicorp.com/terraform target=_blank rel=noopener>学习资源和文档</a>，想深入学习Terrform，并投入到实际工作中，还请参考<a href=https://www.terraform.io/docs/ target=_blank rel=noopener>官方文档</a>。</p></div><div class="row pl-3 pr-3"><div class="col-md-6 share-buttons"><strong>Share on:</strong>
<a class="btn btn-sm facebook-btn" href="https://www.facebook.com/sharer.php?u=%2fzh%2fposts%2fdevops%2ftf-cloud%2f" target=_blank><i class="fab fa-facebook"></i></a>
<a class="btn btn-sm twitter-btn" href="https://twitter.com/share?url=%2fzh%2fposts%2fdevops%2ftf-cloud%2f&text=%e8%bf%81%e7%a7%bb%e6%9c%ac%e5%9c%b0%e9%a1%b9%e7%9b%ae%e5%88%b0TF%20CLOUD&via=Mengz%27s%20Space%20..." target=_blank><i class="fab fa-twitter"></i></a>
<a class="btn btn-sm linkedin-btn" href="https://www.linkedin.com/shareArticle?url=%2fzh%2fposts%2fdevops%2ftf-cloud%2f&title=%e8%bf%81%e7%a7%bb%e6%9c%ac%e5%9c%b0%e9%a1%b9%e7%9b%ae%e5%88%b0TF%20CLOUD" target=_blank><i class="fab fa-linkedin"></i></a></div></div><hr><div class="row next-prev-navigator"><div class="col-md-6 previous-article"><a href=/zh/posts/devops/open-gitops/ title="解读OPEN GITOPS 1.0" class="btn btn-outline-info"><div><i class="fas fa-chevron-circle-left"></i> Prev</div><div class=next-prev-text>解读OPEN GITOPS 1.0</div></a></div><div class="col-md-6 next-article"><a href=/zh/posts/opentool/diun-intro/ title=DIUN-容器镜像更新通知 class="btn btn-outline-info"><div>Next <i class="fas fa-chevron-circle-right"></i></div><div class=next-prev-text>DIUN-容器镜像更新通知</div></a></div></div><hr></div></div></div><a id=scroll-to-top class=btn><i class="fas fa-chevron-circle-up"></i></a></section><section class=toc-section id=toc-section><div class=toc-holder><h5 class="text-center pl-3">Table of Contents</h5><hr><div class=toc><nav id=TableOfContents><ul><li><a href=#什么是terraform-cloud>什么是Terraform Cloud</a></li><li><a href=#重新初始项目>重新初始项目</a></li><li><a href=#配置工作空间的环境变量>配置工作空间的环境变量</a></li><li><a href=#本版化管理项目>本版化管理项目</a></li><li><a href=#总结>总结</a></li></ul></nav></div></div></section></div><footer id=footer class="container-fluid text-center align-content-center footer pb-2"><div class="container pt-5"><div class="row text-left"><div class="col-md-4 col-sm-12"><h5>Navigation</h5><ul><li class=nav-item><a class=smooth-scroll href=/zh/#about>关于</a></li><li class=nav-item><a class=smooth-scroll href=/zh/#skills>技能</a></li><li class=nav-item><a class=smooth-scroll href=/zh/#experiences>工作经历</a></li><li class=nav-item><a class=smooth-scroll href=/zh/#education>教育</a></li><li class=nav-item><a class=smooth-scroll href=/zh/#recent-posts>近期文章</a></li><li class=nav-item><a class=smooth-scroll href=/zh/#accomplishments>技能学习</a></li><li class=nav-item><a class=smooth-scroll href=https://live.mengz.dev/>LiveTerm</a></li></ul></div><div class="col-md-4 col-sm-12"><h5>Contact me:</h5><ul><li><a href=mailto:mengz.you@outlook.com target=_blank rel=noopener><span><i class="fas fa-envelope"></i></span> <span>mengz.you@outlook.com</span></a></li><li><a href=https://github.com/mengzyou target=_blank rel=noopener><span><i class="fab fa-github"></i></span> <span>mengzyou</span></a></li><li><a href=https://www.linkedin.com/in/mengzyou target=_blank rel=noopener><span><i class="fab fa-linkedin"></i></span> <span>You Mengzhe</span></a></li></ul></div></div></div><hr><div class=container><div class="row text-left"><div class=col-md-4><a id=theme href=https://github.com/hugo-toha/toha target=_blank rel=noopener><img src=/images/theme-logo_hu8376fd15465fef26ffe66b6bcf0ca686_13669_32x0_resize_box_3.png alt="Toha Theme Logo">
Toha</a></div><div class="col-md-4 text-center">© 2023 Copyright.</div><div class="col-md-4 text-right"><a id=hugo href=https://gohugo.io/ target=_blank rel=noopener>Powered by
<img src=/images/hugo-logo.svg alt="Hugo Logo" height=18></a></div></div></div></footer><script src=/application.d06ddacd4080231ac954a78539ea5f5a1921ebbd740618450ead7a0e8466dfda.js integrity="sha256-0G3azUCAIxrJVKeFOepfWhkh6710BhhFDq16DoRm39o=" defer></script></body></html>